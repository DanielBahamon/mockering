<!DOCTYPE html>
<html>
  <head>
    <title><%= yield(:title) %></title>
    <%= csrf_meta_tags %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <%= action_cable_meta_tag %>
    <%= render 'application/favicon' %>

    <link href="https://vjs.zencdn.net/7.8.2/video-js.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hammersmith+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Reem+Kufi&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet"> 
    <script src="https://kit.fontawesome.com/efeb454d96.js" crossorigin="anonymous"></script>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

    
    <!-- ScrollMagic -->
    <script type="text/javascript" src="https://apposento.s3-sa-east-1.amazonaws.com/assets/libraries/scrollmagic/assets/js/lib/greensock/TweenMax.min.js"></script>
    <script type="text/javascript" src="https://apposento.s3-sa-east-1.amazonaws.com/assets/libraries/scrollmagic/assets/js/lib/greensock/plugins/ScrollToPlugin.min.js"></script>
    <script type="text/javascript" src="https://apposento.s3-sa-east-1.amazonaws.com/assets/libraries/scrollmagic/assets/js/lib/modernizr.custom.min.js"></script>
    <script type="text/javascript" src="https://apposento.s3-sa-east-1.amazonaws.com/assets/libraries/scrollmagic/assets/js/lib/iscroll-probe.js"></script>
    <script type="text/javascript" src="https://apposento.s3-sa-east-1.amazonaws.com/assets/libraries/scrollmagic/scrollmagic/minified/ScrollMagic.min.js"></script>
    <script type="text/javascript" src="https://apposento.s3-sa-east-1.amazonaws.com/assets/libraries/scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min.js"></script>
    <script type="text/javascript" src="https://apposento.s3-sa-east-1.amazonaws.com/assets/libraries/scrollmagic/scrollmagic/minified/plugins/animation.gsap.min.js"></script>
    <!-- End ScrollMagic -->

    <!--Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8M87JK8XXC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-8M87JK8XXC');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115799642-7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-115799642-7');
    </script>
    <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
    <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
  </head>

  <body>
    <%= render 'shared/navbar' %>

    <%= toastr_flash %>
    <div class="bg-white">
      <%= yield %>
    </div>
    


    <%= render 'shared/navfooter' %>

    <div class="trigger" id="trigger1"></div>
    <div class="trigger" id="trigger2"></div>

    <script type="text/javascript">
      /* BUTTON MENU */
          $('._btnmenu').click(function(){
            $('._iconav').toggleClass('open');
          });
      /* END BUTTON MENU */
    </script>
    <script type="text/javascript">
      
      (function() {
        var darkSwitch = document.getElementById("darkSwitch");
        if (darkSwitch) {
          initTheme();
          darkSwitch.addEventListener("change", function(event) {
            resetTheme();
          });
          function initTheme() {
            var darkThemeSelected =
              localStorage.getItem("darkSwitch") !== null &&
              localStorage.getItem("darkSwitch") === "dark";
            darkSwitch.checked = darkThemeSelected;
            darkThemeSelected
              ? document.body.setAttribute("data-theme", "dark")
              : document.body.removeAttribute("data-theme");
          }
          function resetTheme() {
            if (darkSwitch.checked) {
              document.body.setAttribute("data-theme", "dark");
              localStorage.setItem("darkSwitch", "dark");
            } else {
              document.body.removeAttribute("data-theme");
              localStorage.removeItem("darkSwitch");
            }
          }
        }
      })();
    </script>
    <script type="text/javascript">
      // init controller
      var controller = new ScrollMagic.Controller();
      // build tween
      var scene_1 = new ScrollMagic.Scene({triggerElement: "#trigger1"})
            .setClassToggle("._nav._1", "_shadow")
            // .addIndicators()
            .addTo(controller);
      var scene_2 = new ScrollMagic.Scene({triggerElement: "#trigger2"})
            .setClassToggle("._nav._1", "active-semi")
            //.addIndicators()
            .addTo(controller);
      var scene_3 = new ScrollMagic.Scene({triggerElement: "#trigger2"})
            .setClassToggle("._navbar_br", "active-semi")
            //.addIndicators()
            .addTo(controller);
      var scene_4 = new ScrollMagic.Scene({triggerElement: "#trigger2"})
            .setClassToggle("._navfooter", "active-semi")
            //.addIndicators()
            .addTo(controller);
      var scene_5 = new ScrollMagic.Scene({triggerElement: "#trigger2"})
            .setClassToggle("._contbtn_add_navfooter", "active-semi")
            //.addIndicators()
            .addTo(controller);

      var position = $(window).scrollTop(); 

      // should start at 0

      $(window).scroll(function() {
          var scroll = $(window).scrollTop();
          if(scroll > position) {
              // console.log('scrollDown');
              $('._nav._1').removeClass('active');
              $('._navfooter').removeClass('active');
              $('._contbtn_add_navfooter').removeClass('active');
          } else {
              $('._nav._1').addClass('active');
              $('._navfooter').addClass('active');
              $('._contbtn_add_navfooter').addClass('active');
          }
          position = scroll;
      });
      //========================================
      // END SCROLL UP
      //========================================


    </script>
    <!-- JQUERY -->
    <script src="https://vjs.zencdn.net/7.8.2/video.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
    <script src="https://kit.fontawesome.com/3838a3343b.js" crossorigin="anonymous"></script>
  </body>
</html>
