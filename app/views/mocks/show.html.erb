<div class="_conta">
	<div class="row m-0">
		<div class="col-12 col-md-8 col-xl-9">
			<div class="row m-0">
				<div class="col-12 p-0">
					<% if @mock.movie.present? %>
					  <video id="my-video" class="video-js vjs-big-play-centered" controls preload="auto" data-setup="{}" style="width:100%; height: 66vh;" poster="<%= @mock.picture.url(:large) %>">
					    <source src="<%= video_path(@mock.movie) %>" type="video/mp4" />
					  </video>
					<% end %>
					<% if @mock.music.present? %>
						<% audio_tag(@mock.music, controls: true, styles: "width:100%;") %>
					<% end %>
				</div>
			</div>
			<div class="row m-0">
				<div class="col-12 p-0">
					<h6 class="text-muted _username_video"><%= link_to @mock.mocker do %>@<%= @mock.mocker.slug %><% end %></h6>
					<h4 class="card-title _fw500"><%= @mock.title %></h4>
				</div>
			</div>
			<div class="row m-0">
				<div class="col-6 p-0">
					<div class="row m-0">
						<div class="col-auto p-0">
							<h5 class="m-0 _video_views _fw500"><i class="far fa-eye"></i> <% number_views = @mock.impressionist_count(:filter=>:ip_address, :filter=>:session_hash) %> <%= number_to_human(number_views, units: {billion: 'B' }) %></h5> 	
						</div>
						<div class="col-auto">
							<div class="d-table fullscreen">
								<div class="d-tablecell v-middle">
									<h5 class="_fw500">â€¢ <%= @mock.created_at.strftime("%d %b %Y").downcase  %></h5>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-6 p-0">
					<div class="row float-right m-0">	
						<div class="col-auto" >
							<% if current_mocker %>
								<%= link_to like_mock_path(@mock), method: :put, remote: :true, class: "like-post" do %>
									<div id="like-count">
										<%= render 'mocks/likes', mock: @mock %>
									</div>
								<% end %>
							<% else %>
								<%= link_to new_mocker_session_path, class: 'like-post' do %>
									<div id="like-count">
										<%= render 'mocks/likes', mock: @mock %>
									</div>
								<% end %>
							<% end %>
						</div>
						<div class="col-auto">
							<% if current_mocker %>
								<%= link_to dislike_mock_path(@mock), method: :put, remote: :true, class: "like-post" do %>
									<div id="dislike-count">
										<%= render 'mocks/dislikes', mock: @mock %>
									</div>
								<% end %>
							<% else %>
								<%= link_to new_mocker_session_path, class: 'like-post' do %>
									<div id="dislike-count">
										<%= render 'mocks/dislikes', mock: @mock %>
									</div>
								<% end %>
							<% end %>
						</div>
					</div>
				</div>
			</div>
			<div class="row m-0">
				<div class="col-12 readmore p-0">
					<p class="video_description"><%= @mock.description %></p>
					<% if @mock.credits? %>
						<b>Credits:</b>
						<p><%= @mock.credits %></p>
					<% end %>
				</div>
			</div>
		</div>
		<div class="col-12 col-md-4 col-xl-3">
		</div>
	</div>

	<div class="mock_show">
		<div class="card">
					
			<div class="card-body">
				
			</div>
			<div class="card-footer row">
				<div class="reviews">
					<%= render 'reviews/form' %>
					<%= render 'reviews/list' %>
				</div>
				<div class="col-md-6 pull-right">
					<%= link_to 'Back',root_path, class: 'btn btn-default' %>
					<% if current_mocker == @mock.mocker %>
						<%= link_to 'Edit', edit_mock_path,class: 'btn btn-default' %>
						<%= link_to 'Delete', mock_path, method: :delete, data: {confirm: "Are you sure?"},class: 'btn btn-default' %>
					<% end %>
				</div>
			</div>
		</div>
	</div>
</div>

<style type="text/css">
	#my-video{
		border-radius: 9px;
	}
	._username_video{
		margin-top:10px;
		margin-bottom: 0;
	}
	a.link-2 {
	    margin-top: 10px;
	    margin-bottom: 15px;
	}
	.video_description{
		font-size: 11pt;
		color:#484848;
	}
	.vjs-poster{
		border-radius: 9px;
	}

</style>

<script type="text/javascript">
	$('.readmore').readmore({
			speed: 75,
			collapsedHeight: 70,
			moreLink: '<a href="#" class="link-2">Show more</a>',
	  		lessLink: '<a href="#" class="link-2">Show less</a>'
		}
	);
</script>